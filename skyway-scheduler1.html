<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Random Redirect</title>

  <!-- Central source of truth: probability weights + URLs (sorted desc) -->
  <script type="application/json" id="urlProbability">
  {
    "items": [
      { "probabilityWeight": 14,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-loopTube_andrewTateHustlersUniversity_dwbnTddcm4U_20251005_0937" },
      { "probabilityWeight": 10,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-loopTube_enriqueRazon_jqVFDMYSSX4_20251005_0918" },
      { "probabilityWeight": 7,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-loopTube_n2AdvancedVocab_zcRk8SCpIZw_20251005_1203" },
      { "probabilityWeight": 11,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-loopTube_ANNNews1004_6Hxdwk4I-d0_20251005_0932" },
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=Ictsi-2025-annual-10-72.pdf" }, 
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=Ictsi-202505-q-7-41.pdf" }, 
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=Ictsi-202508-q-7-46.pdf" }, 
      { "probabilityWeight": 14, "url": "https://sktoushi.github.io/su/skyway-scheduler.html" },
      { "probabilityWeight": 5,  "url": "https://sktoushi.github.io/su/ultimate-executive-pack-202509.html" },
      { "probabilityWeight": 4,  "url": "https://sktoushi.github.io/su/bucket.html?target=bucket-202409-stash2-Mob" },
      { "probabilityWeight": 5,  "url": "https://sktoushi.github.io/su/bucket.html?target=bucket-japanese" },
      { "probabilityWeight": 6,  "url": "https://sktoushi.github.io/su/all.html" },
      { "probabilityWeight": 6,  "url": "https://sktoushi.github.io/su/allrecent.html" },
      { "probabilityWeight": 4,  "url": "https://sktoushi.github.io/su/skyway-csv-randomizer.html?file=stash-capture-2025.csv" },
      { "probabilityWeight": 3,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=sources-of-power-how-people-make-decisions-23-607.pdf" },
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=boards-that-lead-8-263.pdf" },
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-ecclesiastes-matthew-henry,bucket-proverbs-matthew-henry,bucket-job-matthew-henry" },
      { "probabilityWeight": 2,  "url": "https://m.youtube.com/shorts" },
      { "probabilityWeight": 2,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=against-the-gods-story-of-risk-1-486.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=the-most-important-thing-howard-marks-16-195.pdf" },
      { "probabilityWeight": 3,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=superforecasting-8-231.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/stash3-japanese-issue-randomizer-2025.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=the-intelligent-negotiator-6-214.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=the-unseen-realm-15-391.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=making-japanese-citizens-32-269.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=Munger-almanack-8-618.pdf" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/ref2506/viewer-range-plus.html?fileName=the-prince-1-133.pdf" },
      { "probabilityWeight": 4,  "url": "https://sktoushi.github.io/su/incerto-4books-taleb.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/dsm3.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/Proverbs.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/introduction-to-psychology.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/pmchicken2025.html" },
      { "probabilityWeight": 1,  "url": "https://sktoushi.github.io/su/bucket.html?targets=bucket-the-intelligent-investor,bucket-the-intelligent-investor-chapter8,bucket-the-intelligent-investor-chapter20" }
    ]
  }
  </script>

  <script>
    // Constant to control random PDF selection
    const RANDOM_PDF_MAX = 7;

    // 2%: send to the edit link; 98%: weighted pick from JSON
    const EDIT_URL = "https://github.com/sktoushi/su/edit/in/skyway-scheduler1.html";

    // Crypto-secure random float in [0,1)
    const r32 = new Uint32Array(1);
    crypto.getRandomValues(r32);
    const u = r32[0] / 4294967296; // 2^32

    if (u < 0.02) {
      // 2% direct redirect
      window.location.replace(EDIT_URL);
    } else if (u < 0.12) {
      // 10% chance to redirect to PDF viewer
      const chosenNumber = Math.floor(Math.random() * RANDOM_PDF_MAX) + 1;
      const pdfUrl = `https://ryspare25.github.io/ref2510/viewer-pdfjs.html?fileName=${chosenNumber}.pdf`;
      window.location.replace(pdfUrl);
    } else {
      // Parse central JSON config
      const { items } = JSON.parse(document.getElementById('urlProbability').textContent);

      // Compute total weight
      const totalWeight = items.reduce((sum, it) => sum + (it.probabilityWeight || 0), 0) || 1;

      // Crypto-secure weighted pick in [0, totalWeight)
      const r = new Uint32Array(1);
      crypto.getRandomValues(r);
      const threshold = Math.floor((r[0] / 4294967296) * totalWeight);

      // Walk cumulative weights
      let acc = 0;
      let chosenUrl = items[0].url;
      for (const it of items) {
        acc += it.probabilityWeight || 0;
        if (threshold < acc) { chosenUrl = it.url; break; }
      }

      // Instant redirect
      window.location.replace(chosenUrl);
    }
  </script>

  <!-- Fallback for users with JavaScript disabled -->
  <noscript>
    <meta http-equiv="refresh" content="0;url=https://instagram.com/reels" />
    <style>body { font-family: sans-serif; }</style>
    <p>If you’re seeing this, JavaScript is disabled. You’ll be sent to Instagram Reels in a moment.</p>
  </noscript>
</head>
<body></body>
</html>
